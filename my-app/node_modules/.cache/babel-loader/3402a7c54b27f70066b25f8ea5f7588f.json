{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MULTICAMPUSPC\\\\Downloads\\\\my-app\\\\src\\\\components\\\\StudentTable.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction StudentTable(props) {\n  _s();\n\n  let [students, setStudents] = useState(null);\n  const [direction, setDirection] = useState(1);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [data, setData] = useState([]); // let [students, setStudents] = useState([]);\n\n  useEffect(() => {\n    console.log(\"student table useEffect!!\");\n    setStudents(props.data);\n  }, [props.data]);\n  useEffect(() => {\n    console.log('app useeffect!!');\n    let url = 'https://60efed10f587af00179d3b82.mockapi.io/api/students';\n\n    if (searchTerm.length > 0) {\n      url = url + '?search=' + searchTerm;\n    }\n\n    console.log(url);\n    fetch(url).then(response => response.json()).then(data => {\n      setData(data); //setStudents(data)\n    });\n  }, [searchTerm]); // const [status, setStatus] = useState(\"\");\n\n  const deleteUser = id => {\n    fetch(\"https://60efed10f587af00179d3b82.mockapi.io/api/students\" + id, {\n      method: \"DELETE\"\n    }).then(() => {\n      console.log(\"Delete successfull!\");\n      let rs = [...students];\n      rs = rs.filter(student => {\n        return student.id !== id;\n      });\n      setStudents = rs;\n    });\n  }; // const deleteItem = (id) => {\n  //   setStudents(() => {\n  //    const sortData = [...students];\n  //     sortData.splice(id,1);\n  //\n  //   })\n  //   }\n  // const deleteItem = (id) => () => setStudents((id)=> id)\n  // const deleteItem = (index) => () => setStudents((items) => items.filter((_, i) => i !== index));\n\n\n  const sortColumn = (field, type) => {\n    const sortData = [...students]; //tạo mới dữ liệu để state trỏ đến dữ liệu mới\n    //const sortData = students;\n\n    if (type === \"string\") {\n      sortData.sort((a, b) => direction * a[field].localeCompare(b[field]));\n    } else if (type === \"number\") {\n      sortData.sort((a, b) => direction * (a[field] - b[field]));\n    }\n\n    setDirection(direction * -1);\n    setStudents(sortData);\n  };\n\n  console.log(\"student table main\");\n  var student_list = [];\n\n  if (students != null) {\n    student_list = students.map((item, index) =>\n    /*#__PURE__*/\n    // <tr className={item.style}>\n    _jsxDEV(\"tr\", {\n      className: item.mark >= 9 ? \"table\" : item.mark > 4 ? \"table\" : \"table\",\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: item.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: item.firstName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: item.lastName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: item.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: item.mark\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `user/${item.id}`,\n          children: \"Detail\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-outline-danger\",\n          onClick: deleteUser,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa-solid fa-trash\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 77\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, item.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this));\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"table\", {\n    className: \"table thead-dark\",\n    children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n        children: \"ID\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n        onClick: () => sortColumn(\"firstName\", \"string\"),\n        children: \"First Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n        onClick: () => sortColumn(\"lastName\", \"string\"),\n        children: [\"Last Name \", /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \" \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n        onClick: () => sortColumn(\"mark\", \"number\"),\n        children: \"Mark\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n        children: \"Detail\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n        children: \"Action\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), student_list]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n}\n\n_s(StudentTable, \"NYpiLCQSZz74a+vcmAoh/cPQQtA=\");\n\n_c = StudentTable;\nexport default StudentTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"StudentTable\");","map":{"version":3,"names":["React","useState","useEffect","Link","StudentTable","props","students","setStudents","direction","setDirection","searchTerm","setSearchTerm","data","setData","console","log","url","length","fetch","then","response","json","deleteUser","id","method","rs","filter","student","sortColumn","field","type","sortData","sort","a","b","localeCompare","student_list","map","item","index","mark","firstName","lastName","email"],"sources":["C:/Users/MULTICAMPUSPC/Downloads/my-app/src/components/StudentTable.js"],"sourcesContent":["import React from 'react';\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport {Link } from \"react-router-dom\";\r\n\r\nfunction StudentTable(props) {\r\n  let [students, setStudents] = useState(null);\r\n  const [direction, setDirection] = useState(1);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [data, setData] = useState([]);\r\n  // let [students, setStudents] = useState([]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"student table useEffect!!\");\r\n    setStudents(props.data);\r\n  }, [props.data]);\r\n\r\n  useEffect(() => {\r\n    console.log('app useeffect!!');\r\n    let url = 'https://60efed10f587af00179d3b82.mockapi.io/api/students';\r\n    if (searchTerm.length > 0) {\r\n      url = url + '?search=' + searchTerm;\r\n    }\r\n\r\n    console.log(url);\r\n    fetch(url)\r\n        .then((response) => response.json())\r\n        .then((data) => {\r\n          setData(data); //setStudents(data)\r\n        });\r\n  }, [searchTerm]);\r\n\r\n  // const [status, setStatus] = useState(\"\");\r\n  const deleteUser = (id) => {\r\n    fetch(\"https://60efed10f587af00179d3b82.mockapi.io/api/students\"+id, {method: \"DELETE\",\r\n    }).then(()=> {\r\n      console.log(\"Delete successfull!\");\r\n      let rs = [...students];\r\n      rs = rs.filter((student) => {\r\n        return student.id !== id;\r\n      })\r\n      setStudents = (rs);\r\n    });\r\n  };\r\n\r\n  // const deleteItem = (id) => {\r\n  //   setStudents(() => {\r\n  //    const sortData = [...students];\r\n  //     sortData.splice(id,1);\r\n  //\r\n  //   })\r\n  //   }\r\n  // const deleteItem = (id) => () => setStudents((id)=> id)\r\n  // const deleteItem = (index) => () => setStudents((items) => items.filter((_, i) => i !== index));\r\n\r\n  const sortColumn = (field, type) => {\r\n    \r\n    const sortData = [...students]; //tạo mới dữ liệu để state trỏ đến dữ liệu mới\r\n    //const sortData = students;\r\n    if (type === \"string\") {\r\n      sortData.sort((a, b) => direction * a[field].localeCompare(b[field]));\r\n    } else if (type === \"number\") {\r\n      sortData.sort((a, b) => direction * (a[field] - b[field]));\r\n    }\r\n    setDirection(direction * -1);\r\n    setStudents(sortData);\r\n  };\r\n\r\n  console.log(\"student table main\");\r\n  var student_list = [];\r\n  if (students != null) {\r\n    student_list = students.map((item, index) => (\r\n      // <tr className={item.style}>\r\n      <tr key={item.id}\r\n        className={\r\n          item.mark >= 9\r\n            ? \"table\"\r\n            : item.mark > 4\r\n            ? \"table\"\r\n            : \"table\"\r\n        }\r\n      >\r\n        <td>{item.id}</td>\r\n        <td>{item.firstName}</td>\r\n        <td>{item.lastName}</td>\r\n        <td>{item.email}</td>\r\n        <td>{item.mark}</td>\r\n        <td><Link to = {`user/${item.id}`}>Detail</Link></td>\r\n        <td><button className=\"btn btn-outline-danger\" onClick={deleteUser}><i className=\"fa-solid fa-trash\"></i></button></td>\r\n      </tr>\r\n    ));\r\n  }\r\n\r\n  return (\r\n    <table className=\"table thead-dark\">\r\n      <tr>\r\n        <th>ID</th>\r\n        <th onClick={() => sortColumn(\"firstName\", \"string\")}>First Name</th>\r\n\r\n        <th onClick={() => sortColumn(\"lastName\", \"string\")}>\r\n          Last Name <span> </span>\r\n          {/*  <a href=\"?sort=desc\">\r\n            <i class=\"fa fa-arrow-down\"></i>\r\n          </a> */}\r\n        </th>\r\n        <th>Email</th>\r\n        <th onClick={() => sortColumn(\"mark\", \"number\")}>Mark</th>\r\n        <th>Detail</th>\r\n        <th>Action</th>\r\n\r\n      </tr>\r\n      {student_list}\r\n    </table>\r\n  );\r\n}\r\n\r\n\r\nexport default StudentTable;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}